# 2.1 获得内核源码

登陆Linux官方网站（[http://www.kernel.org](http://www.kernel.org)）可以随时获得当前版本的Linux源码。

## 使用Git

```shell
git clone git://git.kernel.org/pub/scm/linux/kernel/git/torwalds/linux-2.6.git
```

## 安装内核源码

内核压缩以GNU zip（gzip）和bzip2两种形式发布。下载压缩包后，自行解压即可获得源码。

## 使用补丁

```shell
patch -p1 c ../patch-x.y.z
```

# 2.2 内核源码树

| 目录            | 描述                     |
| ------------- | ---------------------- |
| arch          | 特定体系结构的源码              |
| block         | 块设备I/O层                |
| crypto        | 加密API                  |
| Documentation | 内核源码文档                 |
| drivers       | 设备驱动程序                 |
| firmware      | 使用某些驱动程序而需要的设备固件       |
| fs            | VFS和各种文件系统             |
| include       | 内核头文件                  |
| init          | 内核引导和初始化               |
| ipc           | 进程间通信代码                |
| kernel        | 像调度程序这样的核心子系统          |
| lib           | 通用内核函数                 |
| mm            | 内存管理子系统和VM             |
| net           | 网络子系统                  |
| samples       | 示例代码                   |
| scripts       | 编译内核所用的脚本              |
| security      | Linux安全模块              |
| sound         | 语音子系统                  |
| usr           | 早期用户空间代码（所谓的initramfs） |
| tools         | 在Linux开发中有用的工具         |
| virt          | 虚拟化基础结构                |

# 2.3 编译内核

